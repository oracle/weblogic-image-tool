<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.152.2">
    <meta name="generator" content="Relearn 8.3.0">
    <meta name="description" content="Learn how to clean up temporary directories created by the Image Tool.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Cleanup :: WebLogic Image Tool">
    <meta name="twitter:description" content="Learn how to clean up temporary directories created by the Image Tool.">
    <meta property="og:url" content="https://oracle.github.io/weblogic-image-tool/userguide/cleanup/index.html">
    <meta property="og:site_name" content="WebLogic Image Tool">
    <meta property="og:title" content="Cleanup :: WebLogic Image Tool">
    <meta property="og:description" content="Learn how to clean up temporary directories created by the Image Tool.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="User Guide">
    <meta property="article:published_time" content="2019-02-23T17:19:24-05:00">
    <meta property="article:modified_time" content="2019-02-23T17:19:24-05:00">
    <meta itemprop="name" content="Cleanup :: WebLogic Image Tool">
    <meta itemprop="description" content="Learn how to clean up temporary directories created by the Image Tool.">
    <meta itemprop="datePublished" content="2019-02-23T17:19:24-05:00">
    <meta itemprop="dateModified" content="2019-02-23T17:19:24-05:00">
    <meta itemprop="wordCount" content="194">
    <title>Cleanup :: WebLogic Image Tool</title>
    <link href="/weblogic-image-tool/images/logo.png?1767585070" rel="icon" type="image/png">
    <link href="/weblogic-image-tool/css/auto-complete/auto-complete.min.css?1767585070" rel="stylesheet">
    <script src="/weblogic-image-tool/js/auto-complete/auto-complete.min.js?1767585070" defer></script>
    <script src="/weblogic-image-tool/js/search-lunr.min.js?1767585070" defer></script>
    <script src="/weblogic-image-tool/js/search.min.js?1767585070" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/weblogic-image-tool/searchindex.en.js?1767585070";
    </script>
    <script src="/weblogic-image-tool/js/lunr/lunr.min.js?1767585070" defer></script>
    <script src="/weblogic-image-tool/js/lunr/lunr.stemmer.support.min.js?1767585070" defer></script>
    <script src="/weblogic-image-tool/js/lunr/lunr.multi.min.js?1767585070" defer></script>
    <script src="/weblogic-image-tool/js/lunr/lunr.en.min.js?1767585070" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/weblogic-image-tool/fonts/fontawesome/css/fontawesome-all.min.css?1767585070" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/weblogic-image-tool/fonts/fontawesome/css/fontawesome-all.min.css?1767585070" rel="stylesheet"></noscript>
    <link href="/weblogic-image-tool/css/perfect-scrollbar/perfect-scrollbar.min.css?1767585070" rel="stylesheet">
    <link href="/weblogic-image-tool/css/theme.min.css?1767585070" rel="stylesheet">
    <link href="/weblogic-image-tool/css/format-html.min.css?1767585070" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/userguide\/cleanup\/index.html';
      window.relearn.relBasePath='..\/..';
      window.relearn.relBaseUri='..\/..\/..';
      window.relearn.absBaseUri='https:\/\/oracle.github.io\/weblogic-image-tool';
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy text to clipboard`;
      window.T_Copied_to_clipboard = `Text copied to clipboard!`;
      window.T_Link_copied_to_clipboard = `Link copied to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      window.T_Browser_unsupported_feature = `This browser doesn't support this feature`;
      // variant stuff
      window.relearn.themevariants = [ 'learn' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
  </head>
  <body class="mobile-support html" data-url="/weblogic-image-tool/userguide/cleanup/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper"> 
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/weblogic-image-tool/index.html"><span itemprop="name">WebLogic Image Tool</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/weblogic-image-tool/userguide/index.html"><span itemprop="name">User Guide</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Cleanup</span><meta itemprop="position" content="3"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="/weblogic-image-tool/userguide/tools/cache/index.html" title="Cache (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="/weblogic-image-tool/userguide/config/index.html" title="Configuration (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable userguide" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>



<h1 id="cleanup">Cleanup</h1>



<p>The Image Tool creates a temporary Docker context directory, prefixed by <code>wlsimgbuilder_temp</code>,
every time the tool runs.  Under normal circumstances, this context directory will be deleted. However,
if the process is aborted or the tool is unable to remove the directory, it is safe for you to delete it manually.</p>
<p>By default, the Image Tool creates the Docker context directory under the user&rsquo;s home directory.
If you prefer to use a different directory for the temporary context, set the environment variable <code>WLSIMG_BLDDIR</code>.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ export WLSIMG_BLDDIR<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;/path/to/dir&#34;</span></span></span></code></pre></div>
<p>The Image Tool will try to prune intermediate images from the Docker multi-stage build after the build step.
If you see dangling images after the build (images labeled as <code>&lt;none&gt;</code>), use the following command to remove them:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ docker rmi <span style="color:#66d9ef">$(</span>docker images --filter <span style="color:#e6db74">&#34;dangling=true&#34;</span> -q --no-trunc<span style="color:#66d9ef">)</span></span></span></code></pre></div>
<p>If you wish to keep the Docker context directory and/or the intermediate images, using the <code>--skipcleanup</code> flag will
skip the delete steps.  Some older versions of Docker do not support the prune command used by the Image Tool.
As a temporary workaround, <code>--skipcleanup</code> can be used to skip the prune command until you are able to upgrade to a
newer version of Docker.</p>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">


<a id="logo" href="https://oracle.github.io/weblogic-image-tool/">
  <img src="https://oracle.github.io/weblogic-image-tool//images/logo.png" height="90"><br/>
  WebLogic Image Tool
</a>

        </div>
        <search><form action="/weblogic-image-tool/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-url="/weblogic-image-tool/index.html"><a class="padding" href="/weblogic-image-tool/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-url="/weblogic-image-tool/quickstart/index.html"><a class="padding" href="/weblogic-image-tool/quickstart/index.html"><b> </b>Quick Start Guide</a><ul id="R-subsections-d63193e927818b6cb77d9c791ea48a61" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-url="/weblogic-image-tool/userguide/index.html"><a class="padding" href="/weblogic-image-tool/userguide/index.html"><b> </b>User Guide</a><ul id="R-subsections-74b4df3a3d9365853f09e9f1dfe7bbba" class="collapsible-menu">
            <li class="" data-nav-url="/weblogic-image-tool/userguide/prerequisites/index.html"><a class="padding" href="/weblogic-image-tool/userguide/prerequisites/index.html">Prerequisites</a></li>
            <li class="" data-nav-url="/weblogic-image-tool/userguide/setup/index.html"><a class="padding" href="/weblogic-image-tool/userguide/setup/index.html">Setup</a></li>
            <li class="alwaysopen " data-nav-url="/weblogic-image-tool/userguide/tools/index.html"><a class="padding" href="/weblogic-image-tool/userguide/tools/index.html"><b> </b>Image Tool Commands</a><ul id="R-subsections-7b3bc9511e17e6cce72c059be01d1c1d" class="collapsible-menu"></ul></li>
            <li class="active " data-nav-url="/weblogic-image-tool/userguide/cleanup/index.html"><a class="padding" href="/weblogic-image-tool/userguide/cleanup/index.html">Cleanup</a></li>
            <li class="" data-nav-url="/weblogic-image-tool/userguide/config/index.html"><a class="padding" href="/weblogic-image-tool/userguide/config/index.html">Configuration</a></li>
            <li class="" data-nav-url="/weblogic-image-tool/userguide/logging/index.html"><a class="padding" href="/weblogic-image-tool/userguide/logging/index.html">Logging</a></li></ul></li>
            <li class="" data-nav-url="/weblogic-image-tool/samples/index.html"><a class="padding" href="/weblogic-image-tool/samples/index.html"><b> </b>Samples</a><ul id="R-subsections-88c2b1e6419b221ce89c4be4a8ae2a6b" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/weblogic-image-tool/developer/index.html"><a class="padding" href="/weblogic-image-tool/developer/index.html"><b> </b>Developer Guide</a><ul id="R-subsections-6b6629b4a7f3145ff0ada8006909039e" class="collapsible-menu"></ul></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer">

<p>Created with <i class="fas fa-heart"></i> from <a href="https://www.oracle.com">Oracle</a></p>
<p>&nbsp</p>
<p><a href="https://github.com/oracle/weblogic-image-tool"><i class="fab fa-github"></i> GitHub repo</a></p>
<p><a href="https://join.slack.com/t/oracle-weblogic/shared_invite/zt-1ni1gtjv6-PGC6CQ4uIte3KBdm_67~aQ"><i class="fab fa-slack"></i> Public Slack #weblogic</a></p>
</div>
      </div>
    </aside>
    <script src="/weblogic-image-tool/js/perfect-scrollbar/perfect-scrollbar.min.js?1767585070" defer></script>
    <script src="/weblogic-image-tool/js/theme.min.js?1767585070" defer></script>
    <div id="toast-container" role="status" aria-live="polite" aria-atomic="false"></div>
  </body>
</html>
