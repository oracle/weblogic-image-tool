<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article" data-r-output-format="html">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.152.2">
    <meta name="generator" content="Relearn 8.3.0">
    <meta name="description" content="The update command creates a new container image by applying WebLogic patches to an existing image.">
    <meta name="author" content="">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Update Image :: WebLogic Image Tool">
    <meta name="twitter:description" content="The update command creates a new container image by applying WebLogic patches to an existing image.">
    <meta property="og:url" content="https://oracle.github.io/weblogic-image-tool/userguide/tools/update-image/index.html">
    <meta property="og:site_name" content="WebLogic Image Tool">
    <meta property="og:title" content="Update Image :: WebLogic Image Tool">
    <meta property="og:description" content="The update command creates a new container image by applying WebLogic patches to an existing image.">
    <meta property="og:locale" content="en_us">
    <meta property="og:type" content="article">
    <meta property="article:section" content="User Guide">
    <meta property="article:published_time" content="2024-04-11T00:00:00+00:00">
    <meta property="article:modified_time" content="2024-04-11T00:00:00+00:00">
    <meta itemprop="name" content="Update Image :: WebLogic Image Tool">
    <meta itemprop="description" content="The update command creates a new container image by applying WebLogic patches to an existing image.">
    <meta itemprop="datePublished" content="2024-04-11T00:00:00+00:00">
    <meta itemprop="dateModified" content="2024-04-11T00:00:00+00:00">
    <meta itemprop="wordCount" content="1647">
    <title>Update Image :: WebLogic Image Tool</title>
    <link href="/weblogic-image-tool/images/logo.png?1767585070" rel="icon" type="image/png">
    <link href="/weblogic-image-tool/css/auto-complete/auto-complete.min.css?1767585070" rel="stylesheet">
    <script src="/weblogic-image-tool/js/auto-complete/auto-complete.min.js?1767585070" defer></script>
    <script src="/weblogic-image-tool/js/search-lunr.min.js?1767585070" defer></script>
    <script src="/weblogic-image-tool/js/search.min.js?1767585070" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.index_js_url="/weblogic-image-tool/searchindex.en.js?1767585070";
    </script>
    <script src="/weblogic-image-tool/js/lunr/lunr.min.js?1767585070" defer></script>
    <script src="/weblogic-image-tool/js/lunr/lunr.stemmer.support.min.js?1767585070" defer></script>
    <script src="/weblogic-image-tool/js/lunr/lunr.multi.min.js?1767585070" defer></script>
    <script src="/weblogic-image-tool/js/lunr/lunr.en.min.js?1767585070" defer></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.contentLangs=['en'];
    </script>
    <link href="/weblogic-image-tool/fonts/fontawesome/css/fontawesome-all.min.css?1767585070" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/weblogic-image-tool/fonts/fontawesome/css/fontawesome-all.min.css?1767585070" rel="stylesheet"></noscript>
    <link href="/weblogic-image-tool/css/perfect-scrollbar/perfect-scrollbar.min.css?1767585070" rel="stylesheet">
    <link href="/weblogic-image-tool/css/theme.min.css?1767585070" rel="stylesheet">
    <link href="/weblogic-image-tool/css/format-html.min.css?1767585070" rel="stylesheet" id="R-format-style">
    <script>
      window.relearn = window.relearn || {};
      // configuration
      window.relearn.min = `.min`;
      window.relearn.path='\/userguide\/tools\/update-image\/index.html';
      window.relearn.relBasePath='..\/..\/..';
      window.relearn.relBaseUri='..\/..\/..\/..';
      window.relearn.absBaseUri='https:\/\/oracle.github.io\/weblogic-image-tool';
      window.relearn.disableInlineCopyToClipboard=true;
      window.relearn.enableBlockCodeWrap=true;
      // legal
      window.relearn.getItem = (s,n) => {return s.getItem(n)};
      window.relearn.setItem = (s,n,v) => {return s.setItem(n,v)};
      window.relearn.removeItem = (s,n) => {return s.removeItem(n)};
      // translations
      window.T_Copy_to_clipboard = `Copy text to clipboard`;
      window.T_Copied_to_clipboard = `Text copied to clipboard!`;
      window.T_Link_copied_to_clipboard = `Link copied to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
      window.T_Browser_unsupported_feature = `This browser doesn't support this feature`;
      // variant stuff
      window.relearn.themevariants = [ 'learn' ];
      window.relearn.customvariantname = "my-custom-variant";
      window.relearn.changeVariant = function(variant) {
        var oldVariant = document.documentElement.dataset.rThemeVariant;
        window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        document.documentElement.dataset.rThemeVariant = variant;
        if (oldVariant != variant) {
          document.dispatchEvent( new CustomEvent('themeVariantLoaded', { detail: { variant, oldVariant } }) );
          window.relearn.markVariant();
        }
      }
      window.relearn.markVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant");
        document.querySelectorAll(".R-variantswitcher select").forEach((select) => {select.value = variant;});
      }
      window.relearn.initVariant = function() {
        var variant = window.relearn.getItem(window.localStorage, window.relearn.absBaseUri + "/variant") ?? "";
        if( variant == window.relearn.customvariantname ){
        }else if( !variant || !window.relearn.themevariants.includes(variant) ){
          variant = window.relearn.themevariants[0];
          window.relearn.setItem(window.localStorage, window.relearn.absBaseUri + "/variant", variant);
        }
        document.documentElement.dataset.rThemeVariant = variant;
      }
      window.relearn.initVariant();
      window.relearn.markVariant();
    </script>
  </head>
  <body class="mobile-support html" data-url="/weblogic-image-tool/userguide/tools/update-image/index.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button></span>
            </div>
            <div class="topbar-button topbar-button-toc" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="Table of Contents (CTRL&#43;ALT&#43;t)"><i class="fa-fw fas fa-list-alt"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
<nav class="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#additional-information">Additional information</a></li>
        <li><a href="#usage-scenarios">Usage scenarios</a></li>
      </ul>
    </li>
  </ul>
</nav>
                </div>
              </div>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/weblogic-image-tool/index.html"><span itemprop="name">WebLogic Image Tool</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/weblogic-image-tool/userguide/index.html"><span itemprop="name">User Guide</span></a><meta itemprop="position" content="2">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><a itemprop="item" href="/weblogic-image-tool/userguide/tools/index.html"><span itemprop="name">Image Tool Commands</span></a><meta itemprop="position" content="3">&nbsp;>&nbsp;</li><li itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement" class=""><span itemprop="name">Update Image</span><meta itemprop="position" content="4"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="/weblogic-image-tool/userguide/tools/rebase-image/index.html" title="Rebase Image (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><a href="/weblogic-image-tool/userguide/tools/inspect-image/index.html" title="Inspect Image (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a></span>
            </div>
            <div class="topbar-button topbar-button-more" data-content-empty="hide" data-width-s="show" data-width-m="show" data-width-l="show">
<span class="btn cstyle button link noborder notitle interactive"><button onclick="toggleTopbarFlyout(this)" type="button" title="More"><i class="fa-fw fas fa-ellipsis-v"></i></button></span>
              <div class="topbar-content">
                <div class="topbar-content-wrapper">
                  <div class="topbar-area topbar-area-more" data-area="more">
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable userguide" tabindex="-1">
        <div class="flex-block-wrapper">
<article class="default">
  <header class="headline">
  </header>



<h1 id="update-image">Update Image</h1>



<p>After you have created a container image with the Image Tool, you may want to change it from time to time.  Use the <code>update</code>
command to update the existing container images created with the Image Tool.  For example, you may want to:</p>
<ul>
<li>Apply a WebLogic patch</li>
<li>Apply the latest PSU from Oracle</li>
<li>Create a new WebLogic domain (if one did not already exist)</li>
<li>Deploy a new application to an existing domain</li>
<li>Modify the domain configuration (add a data source, change a port number, and such)</li>
</ul>
<p><strong>NOTE</strong>: The WebLogic Image Tool does not support a Stack Patch Bundle (SPB; see Doc ID 

<a href="https://support.oracle.com/rs?type=doc&amp;id=2764636.1"
   
   
target="_blank" rel="noopener noreferrer"
>
2764636.1
</a>
), because an SPB is <em>not</em> a patch but a mechanism for applying all PSU and recommended CPU and SPU patches to a WebLogic Server installation.</p>
<p>The required options for the <code>update</code> command are marked.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0"><code>Usage: imagetool update [OPTIONS]
Update WebLogic Docker image with selected patches</code></pre></div>
<table>
  <thead>
      <tr>
          <th>Parameter</th>
          <th>Definition</th>
          <th>Default</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>--fromImage</code></td>
          <td>(Required) Container image to be extended. The provided image MUST contain an Oracle Home with middleware installed. The <code>fromImage</code> option serves as a starting point for the new image to be created.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--tag</code></td>
          <td>(Required) Tag for the final build image. Example: <code>store/oracle/weblogic:14.1.2.0.0</code></td>
          <td></td>
      </tr>
      <tr>
          <td><code>--additionalBuildCommands</code></td>
          <td>Path to a file with additional build commands. For more details, see 

<a href="#--additionalbuildcommands"
   
   >
Additional information
</a>
.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--additionalBuildFiles</code></td>
          <td>Additional files that are required by your <code>additionalBuildCommands</code>.  A comma separated list of files that should be copied to the build context. See 

<a href="#--additionalbuildfiles"
   
   >
Additional information
</a>
.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--builder</code>, <code>-b</code></td>
          <td>Executable to process the Dockerfile. Use the full path of the executable if not on your path.</td>
          <td>Defaults to <code>docker</code>, or, when set, to the value in environment variable <code>WLSIMG_BUILDER</code>.</td>
      </tr>
      <tr>
          <td><code>--buildNetwork</code></td>
          <td>Networking mode for the RUN instructions during the image build.  See <code>--network</code> for Docker <code>build</code>.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--chown</code></td>
          <td><code>userid:groupid</code> to be used for creating files and applying middleware patches within the image. The userid and groupid must already exist in the image.</td>
          <td>Defaults to the user and group of the Oracle Home in the provided image.</td>
      </tr>
      <tr>
          <td><code>--dryRun</code></td>
          <td>Skip Docker build execution and print the Dockerfile to stdout.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--httpProxyUrl</code></td>
          <td>Proxy for the HTTP protocol. Example: <code>http://myproxy:80</code> or <code>http:user:passwd@myproxy:8080</code></td>
          <td></td>
      </tr>
      <tr>
          <td><code>--httpsProxyUrl</code></td>
          <td>Proxy for the HTTPS protocol. Example: <code>https://myproxy:80</code> or <code>https:user:passwd@myproxy:8080</code></td>
          <td></td>
      </tr>
      <tr>
          <td><code>--latestPSU</code></td>
          <td>(DEPRECATED) Find and apply the latest PatchSet Update, see 

<a href="#--latestpsu"
   
   >
Additional information
</a>
.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--opatchBugNumber</code></td>
          <td>The patch number for OPatch (patching OPatch).</td>
          <td><code>28186730</code></td>
      </tr>
      <tr>
          <td><code>--password</code></td>
          <td>Request password for the Oracle Support <code>--user</code> on STDIN, see <code>--user</code>.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--passwordEnv</code></td>
          <td>Environment variable containing the Oracle Support password, see <code>--user</code>.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--passwordFile</code></td>
          <td>Path to a file containing just the Oracle Support password, see <code>--user</code>.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--patches</code></td>
          <td>Comma separated list of patch IDs. Example: <code>12345678,87654321</code></td>
          <td></td>
      </tr>
      <tr>
          <td><code>--platform</code></td>
          <td>Set the target platform to build.  Supported values: <code>linux/amd64</code> or <code>linux/arm64</code>.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--pull</code></td>
          <td>Always attempt to pull a newer version of base images during the build.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--recommendedPatches</code></td>
          <td>(DEPRECATED) Find and apply the latest PatchSet Update and recommended patches. This takes precedence over <code>--latestPSU</code>. See 

<a href="#--recommendedpatches"
   
   >
Additional information
</a>
.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--resourceTemplates</code></td>
          <td>One or more files containing placeholders that need to be resolved by the Image Tool. See 

<a href="#resource-template-files"
   
   >
Resource Template Files
</a>
.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--skipcleanup</code></td>
          <td>Do not delete the build context folder, intermediate images, and failed build containers. For debugging purposes.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--strictPatchOrdering</code></td>
          <td>Instruct OPatch to apply patches one at a time (uses <code>apply</code> instead of <code>napply</code>).</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--target</code></td>
          <td>Select the target environment in which the created image will be used. Supported values: <code>Default</code> (Docker/Kubernetes), <code>OpenShift</code>. See 

<a href="#--target"
   
   >
Additional information
</a>
.</td>
          <td><code>Default</code></td>
      </tr>
      <tr>
          <td><code>--type</code></td>
          <td>Installer type. Supported values: <code>WLS</code>, <code>WLSDEV</code>, <code>WLSSLIM</code>, <code>FMW</code>, <code>IDM</code>, <code>MFT</code>, <code>OAM</code>, <code>ODI</code>, <code>OHS</code>, <code>OIG</code>, <code>OUD</code>, <code>OUD_WLS</code>, <code>OID</code>, <code>OSB</code>, <code>SOA</code>, <code>SOA_OSB</code>, <code>SOA_OSB_B2B</code>, <code>WCC</code>, <code>WCP</code>, <code>WCS</code></td>
          <td><code>WLS</code></td>
      </tr>
      <tr>
          <td><code>--useBuildx</code></td>
          <td>Use BuildKit for building the container image.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--user</code></td>
          <td>Oracle support email ID. When supplying <code>user</code>, you must supply the password either as an environment variable using <code>--passwordEnv</code>, or as a file using <code>--passwordFile</code>, or interactively, on the command line with <code>--password</code>.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--wdtArchive</code></td>
          <td>A WDT archive ZIP file or comma-separated list of files.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--wdtDomainHome</code></td>
          <td>Path to the <code>-domain_home</code> for WDT.</td>
          <td><code>/u01/domains/base_domain</code></td>
      </tr>
      <tr>
          <td><code>--wdtDomainType</code></td>
          <td>WDT domain type. Supported values: <code>WLS</code>, <code>JRF</code>, <code>RestrictedJRF</code></td>
          <td><code>WLS</code></td>
      </tr>
      <tr>
          <td><code>--wdtEncryptionKey</code></td>
          <td>Passphrase for WDT <code>-use_encryption</code> that will be requested on STDIN.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--wdtEncryptionKeyEnv</code></td>
          <td>Passphrase for WDT <code>-use_encryption</code> that is provided as an environment variable.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--wdtEncryptionKeyFile</code></td>
          <td>Passphrase for WDT <code>-use_encryption</code> that is provided as a file.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--wdtHome</code></td>
          <td>The target folder in the image for the WDT install and models.</td>
          <td><code>/u01/wdt</code></td>
      </tr>
      <tr>
          <td><code>--wdtJavaOptions</code></td>
          <td>Java command-line options for WDT.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--wdtModel</code></td>
          <td>A WDT model file or a comma-separated list of files.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--wdtModelHome</code></td>
          <td>The target location in the image to copy WDT model, variable, and archive files.</td>
          <td><code>{wdtHome}/models</code></td>
      </tr>
      <tr>
          <td><code>--wdtModelOnly</code></td>
          <td>Install WDT and copy the models to the image, but do not create the domain.</td>
          <td><code>false</code></td>
      </tr>
      <tr>
          <td><code>--wdtOperation</code></td>
          <td>Create a new domain, or update an existing domain. Supported values: <code>CREATE</code>, <code>UPDATE</code>, <code>DEPLOY</code></td>
          <td><code>CREATE</code></td>
      </tr>
      <tr>
          <td><code>--wdtRunRCU</code></td>
          <td>Instruct WDT to run RCU when creating the domain.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--wdtStrictValidation</code></td>
          <td>Use strict validation for the WDT validation method. Only applies when using model only.</td>
          <td><code>false</code></td>
      </tr>
      <tr>
          <td><code>--wdtVariables</code></td>
          <td>A WDT variables file or comma-separated list of files.</td>
          <td></td>
      </tr>
      <tr>
          <td><code>--wdtVersion</code></td>
          <td>WDT tool version to use.</td>
          <td></td>
      </tr>
  </tbody>
</table>
<h3 id="additional-information">Additional information<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<h4 id="--additionalbuildcommands"><code>--additionalBuildCommands</code><span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>This is an advanced option that let&rsquo;s you provide additional commands to the Docker build step.<br>
The input for this parameter is a simple text file that contains one or more of the valid sections. Valid sections for update:</p>
<table>
  <thead>
      <tr>
          <th>Section</th>
          <th>Available Variables</th>
          <th>Build Stage</th>
          <th>Timing</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>before-wdt-command</code></td>
          <td><code>DOMAIN_HOME</code></td>
          <td>Intermediate (WDT_BUILD)</td>
          <td>Before WDT is installed.</td>
      </tr>
      <tr>
          <td><code>after-wdt-command</code></td>
          <td><code>DOMAIN_HOME</code></td>
          <td>Intermediate (WDT_BUILD)</td>
          <td>After WDT domain creation/update is complete.</td>
      </tr>
      <tr>
          <td><code>final-build-commands</code></td>
          <td><code>JAVA_HOME</code> <code>ORACLE_HOME</code> <code>DOMAIN_HOME</code></td>
          <td>Final image</td>
          <td>After all Image Tool actions are complete, and just before the container image is finalized.</td>
      </tr>
  </tbody>
</table>
<p>NOTE: Changes made in intermediate stages may not be carried forward to the final image unless copied manually.<br>
The Image Tool will copy the domain home and the WDT home directories to the final image.<br>
Changes fully contained within these directories do not need an additional <code>COPY</code> command in the <code>final-build-commands</code> section.</p>
<p>Each section can contain one or more valid Dockerfile commands and would look like the following:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#f92672">[</span>after-fmw-install<span style="color:#f92672">]</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> rm /some/dir/unnecessary-file<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">COPY</span> --chown<span style="color:#f92672">=</span>oracle:oracle files/my_additional_file.txt /u01<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#f92672">[</span>final-build-commands<span style="color:#f92672">]</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">LABEL</span> owner<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;middleware team&#34;</span></span></span></code></pre></div>
<h4 id="--additionalbuildfiles"><code>--additionalBuildFiles</code><span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>This option provides a way to supply additional files to the image build command.
All provided files and directories are copied directly under the <code>files</code> subfolder of the build context.<br>
To get those files into the image, additional build commands must be provided using the <code>additionalBuildCommands</code> options.
Access to these files using a build command, such as <code>COPY</code> or <code>ADD</code>, should use the original filename
with the folder prefix, <code>files/</code>.  For example, if the
original file was provided as <code>--additionalBuildFiles /scratch/test1/convenience.sh</code>, the Docker build command <code>COPY</code>
provided in <code>--additionalBuildCommands</code> should look like
<code>COPY --chown=oracle:oracle files/convenience.sh /my/internal/image/location</code>.<br>
Because Image Tool uses multi-stage
builds, it is important to place the build command (like <code>COPY</code>) in the appropriate section of the <code>Dockerfile</code> based
on when the build needs access to the file.  For example, if the file is needed in the final image and not for
installation or domain creation steps, use the <code>final-build-commands</code> section so that the <code>COPY</code> command occurs in the
final stage of the image build.  Or, if the file needs to change the Oracle Home prior to domain creation, use
the <code>after-fmw-install</code> or <code>before-wdt-command</code> sections.</p>
<h4 id="--latestpsu"><code>--latestPSU</code><span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>The <code>latestPSU</code> option will continue to be supported for the CREATE and REBASE option, but has been deprecated for use in the
UPDATE option.  Because of the number of patches and their size, using <code>latestPSU</code> as an update to an existing image can
increase the size of the image <em>significantly</em>, and is not recommended.</p>
<h4 id="--recommendedpatches"><code>--recommendedPatches</code><span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>The <code>recommendedPatches</code> option will continue to be supported for the CREATE and REBASE option, but has been deprecated for use in the
UPDATE option.  Because of the number of patches and their size, using <code>recommendedPatches</code> as an update to an existing image can
increase the size of the image <em>significantly</em>, and is not recommended.</p>
<h4 id="--target"><code>--target</code><span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>By default, the generated WLS domain in your image will use the best practices defined by Oracle WebLogic Server.<br>
The <code>target</code> option allows you to toggle the defaults so that the generated domain is easier to use in the target
environment.  For example, the <code>--target OpenShift</code> option will change the file permissions in the domain directory
so that the group permissions match the user permissions.</p>
<table>
  <thead>
      <tr>
          <th>Target</th>
          <th>Default File Permissions</th>
          <th>Default File Ownership</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>Default</code></td>
          <td><code>rwxr-x---</code></td>
          <td><code>oracle:oracle</code></td>
      </tr>
      <tr>
          <td><code>OpenShift</code></td>
          <td><code>rwxrwx---</code></td>
          <td><code>oracle:root</code></td>
      </tr>
  </tbody>
</table>
<h4 id="resource-template-files">Resource Template Files<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>If provided, the file or files provided with <code>--resourceTemplates</code> will be overwritten. For known tokens,
the placeholders will be replaced with values according to the following table.</p>
<p><strong>Note:</strong> Placeholders must follow the Mustache syntax, like <code>{{imageName}}</code> or <code>{{{imageName}}}</code>.</p>
<table>
  <thead>
      <tr>
          <th>Token Name</th>
          <th>Value Description</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><code>domainHome</code></td>
          <td>The value provided to the Image Tool with <code>--wdtDomainHome</code>.</td>
      </tr>
      <tr>
          <td><code>domainHomeSourceType</code></td>
          <td><code>PersistentVolume</code> (default), <code>FromModel</code> if <code>--wdtModelOnly</code>, or <code>Image</code> if the domain is created in the image with WDT.</td>
      </tr>
      <tr>
          <td><code>imageName</code></td>
          <td>The value provided to the Image Tool with <code>--tag</code>.</td>
      </tr>
      <tr>
          <td><code>modelHome</code></td>
          <td>The value provided to the Image Tool with <code>--wdtModelHome</code>.</td>
      </tr>
  </tbody>
</table>
<h4 id="use-an-argument-file">Use an argument file<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h4>
<p>You can save all arguments passed for the Image Tool in a file, then use the file as a parameter.</p>
<p>For example, create a file called <code>build_args</code>:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>update
</span></span><span style="display:flex;"><span>--fromImage weblogic:14.1.4.0.0
</span></span><span style="display:flex;"><span>--tag wls:141200-patched
</span></span><span style="display:flex;"><span>--patches <span style="color:#ae81ff">123456</span>
</span></span><span style="display:flex;"><span>--user acmeuser@mycompany.com
</span></span><span style="display:flex;"><span>--passwordEnv MYPWD</span></span></code></pre></div>
<p>Use it on the command line, as follows:</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ imagetool @/path/to/build_args</span></span></code></pre></div>
<h3 id="usage-scenarios">Usage scenarios<span class="btn cstyle anchor copyanchor scrollanchor link noborder notitle interactive"><button type="button" title="Copy link to clipboard"><i class="fa-fw fas fa-link fa-lg"></i></button></span></h3>
<p><strong>Note</strong>: Use <code>--passwordEnv</code> or <code>--passwordFile</code> instead of <code>--password</code>.</p>
<ul>
<li>
<p>Update an image named <code>sample:1.0</code> by applying the latest PSU and tag it as <code>sample:1.1</code>.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ imagetool update --fromImage sample:1.0 --tag sample:1.1 --latestPSU --user test@xyz.com --passwordEnv MYVAR</span></span></code></pre></div>
</li>
<li>
<p>Update an image named <code>sample:1.0</code> with the selected patches applied and tag it as <code>sample:1.1</code>.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ imagetool update --fromImage sample:1.0 --tag sample:1.1 --user test@xyz.com --password hello --patches 12345678,87654321</span></span></code></pre></div>
</li>
<li>
<p>Update an image named <code>wls:14.1.4.0.0</code> by creating a new WebLogic domain using WDT and tag it as <code>mydomain:1</code>.  The WDT
installer is accessed from the cache with key wdt_1.1.1.  The model and archive to use are located in a subfolder named <code>wdt</code>.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ imagetool update --fromImage wls:14.1.4.0.0 --tag mydomain:1 --wdtArchive ./wdt/my_domain.zip --wdtModel ./wdt/my_domain.yaml --wdtVersion 1.1.1</span></span></code></pre></div>
</li>
<li>
<p>Use <code>deployApps</code> from WDT to deploy a new application, the WLS Metrics Exporter.  The model and archive to use are
located in a subfolder named <code>wdt</code>.</p>
<div class="highlight actionbar-wrapper wrap-code" dir="auto"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ imagetool update --tag mydomain:2 --fromImage mydomain:1 --wdtOperation deploy --wdtArchive ./wdt/exporter_archive.zip --wdtModel ./wdt/exporter_model.yaml --wdtVersion 1.1.1   </span></span></code></pre></div>
</li>
</ul>

  <footer class="footline">
  </footer>
</article>
        </div>
      </main>
    </div>
    <aside id="R-sidebar" class="default-animation">
      <div id="R-header-topbar" class="default-animation"></div>
      <div id="R-header-wrapper" class="default-animation">
        <div id="R-header" class="default-animation">


<a id="logo" href="https://oracle.github.io/weblogic-image-tool/">
  <img src="https://oracle.github.io/weblogic-image-tool//images/logo.png" height="90"><br/>
  WebLogic Image Tool
</a>

        </div>
        <search><form action="/weblogic-image-tool/search/index.html" method="get">
          <div class="searchbox default-animation">
            <button class="search-detail" type="submit" title="Search (CTRL+ALT+f)"><i class="fas fa-search"></i></button>
            <label class="a11y-only" for="R-search-by">Search</label>
            <input data-search-input id="R-search-by" name="search-by" class="search-by" type="search" placeholder="Search...">
            <button class="search-clear" type="button" data-search-clear="" title="Clear search"><i class="fas fa-times" title="Clear search"></i></button>
          </div>
        </form></search>
      </div>
      <div id="R-homelinks" class="default-animation homelinks">
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-homelinks">
          <ul class="space collapsible-menu">
            <li class="" data-nav-url="/weblogic-image-tool/index.html"><a class="padding" href="/weblogic-image-tool/index.html"><i class="fa-fw fas fa-home"></i> Home</a></li>
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-headercontrols">
          <ul class="">
          </ul>
        </div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
      </div>
      <div id="R-content-wrapper" class="highlightable">
        <div class="R-sidebarmenu R-shortcutmenu-main">
          <ul class="enlarge morespace collapsible-menu">
            <li class="" data-nav-url="/weblogic-image-tool/quickstart/index.html"><a class="padding" href="/weblogic-image-tool/quickstart/index.html"><b> </b>Quick Start Guide</a><ul id="R-subsections-d63193e927818b6cb77d9c791ea48a61" class="collapsible-menu"></ul></li>
            <li class="parent " data-nav-url="/weblogic-image-tool/userguide/index.html"><a class="padding" href="/weblogic-image-tool/userguide/index.html"><b> </b>User Guide</a><ul id="R-subsections-74b4df3a3d9365853f09e9f1dfe7bbba" class="collapsible-menu">
            <li class="" data-nav-url="/weblogic-image-tool/userguide/prerequisites/index.html"><a class="padding" href="/weblogic-image-tool/userguide/prerequisites/index.html">Prerequisites</a></li>
            <li class="" data-nav-url="/weblogic-image-tool/userguide/setup/index.html"><a class="padding" href="/weblogic-image-tool/userguide/setup/index.html">Setup</a></li>
            <li class="parent alwaysopen " data-nav-url="/weblogic-image-tool/userguide/tools/index.html"><a class="padding" href="/weblogic-image-tool/userguide/tools/index.html"><b> </b>Image Tool Commands</a><ul id="R-subsections-7b3bc9511e17e6cce72c059be01d1c1d" class="collapsible-menu">
            <li class="" data-nav-url="/weblogic-image-tool/userguide/tools/create-image/index.html"><a class="padding" href="/weblogic-image-tool/userguide/tools/create-image/index.html">Create Image</a></li>
            <li class="" data-nav-url="/weblogic-image-tool/userguide/tools/create-aux-image/index.html"><a class="padding" href="/weblogic-image-tool/userguide/tools/create-aux-image/index.html">Create Auxiliary Image</a></li>
            <li class="" data-nav-url="/weblogic-image-tool/userguide/tools/rebase-image/index.html"><a class="padding" href="/weblogic-image-tool/userguide/tools/rebase-image/index.html">Rebase Image</a></li>
            <li class="active " data-nav-url="/weblogic-image-tool/userguide/tools/update-image/index.html"><a class="padding" href="/weblogic-image-tool/userguide/tools/update-image/index.html">Update Image</a></li>
            <li class="" data-nav-url="/weblogic-image-tool/userguide/tools/inspect-image/index.html"><a class="padding" href="/weblogic-image-tool/userguide/tools/inspect-image/index.html">Inspect Image</a></li>
            <li class="" data-nav-url="/weblogic-image-tool/userguide/tools/cache/index.html"><a class="padding" href="/weblogic-image-tool/userguide/tools/cache/index.html">Cache</a></li></ul></li>
            <li class="" data-nav-url="/weblogic-image-tool/userguide/cleanup/index.html"><a class="padding" href="/weblogic-image-tool/userguide/cleanup/index.html">Cleanup</a></li>
            <li class="" data-nav-url="/weblogic-image-tool/userguide/config/index.html"><a class="padding" href="/weblogic-image-tool/userguide/config/index.html">Configuration</a></li>
            <li class="" data-nav-url="/weblogic-image-tool/userguide/logging/index.html"><a class="padding" href="/weblogic-image-tool/userguide/logging/index.html">Logging</a></li></ul></li>
            <li class="" data-nav-url="/weblogic-image-tool/samples/index.html"><a class="padding" href="/weblogic-image-tool/samples/index.html"><b> </b>Samples</a><ul id="R-subsections-88c2b1e6419b221ce89c4be4a8ae2a6b" class="collapsible-menu"></ul></li>
            <li class="" data-nav-url="/weblogic-image-tool/developer/index.html"><a class="padding" href="/weblogic-image-tool/developer/index.html"><b> </b>Developer Guide</a><ul id="R-subsections-6b6629b4a7f3145ff0ada8006909039e" class="collapsible-menu"></ul></li>
          </ul>
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-shortcuts">
          <ul class="space collapsible-menu">
          </ul>
        </div>
        <div id="R-footer-margin"></div>
        <div class="R-menu-divider default-animation">
          <hr class="padding">
        </div>
        <div class="R-sidebarmenu R-shortcutmenu-footercontrols">
          <ul class="">
          </ul>
        </div>
<div id="R-footer">

<p>Created with <i class="fas fa-heart"></i> from <a href="https://www.oracle.com">Oracle</a></p>
<p>&nbsp</p>
<p><a href="https://github.com/oracle/weblogic-image-tool"><i class="fab fa-github"></i> GitHub repo</a></p>
<p><a href="https://join.slack.com/t/oracle-weblogic/shared_invite/zt-1ni1gtjv6-PGC6CQ4uIte3KBdm_67~aQ"><i class="fab fa-slack"></i> Public Slack #weblogic</a></p>
</div>
      </div>
    </aside>
    <script src="/weblogic-image-tool/js/perfect-scrollbar/perfect-scrollbar.min.js?1767585070" defer></script>
    <script src="/weblogic-image-tool/js/theme.min.js?1767585070" defer></script>
    <div id="toast-container" role="status" aria-live="polite" aria-atomic="false"></div>
  </body>
</html>
