<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.108.0">
    <meta name="description" content="The create command creates a new container image and installs the requested Java and WebLogic software.">


    <link rel="icon" href="/weblogic-image-tool/images/favicon.png" type="image/png">

    <title>Create Image :: WebLogic Image Tool</title>

    
    <link href="/weblogic-image-tool/css/nucleus.css?1742786740" rel="stylesheet">
    <link href="/weblogic-image-tool/css/fontawesome-all.min.css?1742786740" rel="stylesheet">
    <link href="/weblogic-image-tool/css/hybrid.css?1742786740" rel="stylesheet">
    <link href="/weblogic-image-tool/css/featherlight.min.css?1742786740" rel="stylesheet">
    <link href="/weblogic-image-tool/css/perfect-scrollbar.min.css?1742786740" rel="stylesheet">
    <link href="/weblogic-image-tool/css/auto-complete.css?1742786740" rel="stylesheet">
    <link href="/weblogic-image-tool/css/atom-one-dark-reasonable.css?1742786740" rel="stylesheet">
    <link href="/weblogic-image-tool/css/theme.css?1742786740" rel="stylesheet">
    <link href="/weblogic-image-tool/css/tabs.css?1742786740" rel="stylesheet">
    <link href="/weblogic-image-tool/css/hugo-theme.css?1742786740" rel="stylesheet">
    
    

    <script src="/weblogic-image-tool/js/jquery-3.6.0.min.js?1742786740"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
        :not(pre) > code + span.copy-to-clipboard {
            display: none;
        }
      
    </style>
    
  </head>
  <body class="" data-url="/weblogic-image-tool/userguide/tools/create-image/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href="https://oracle.github.io/weblogic-image-tool">
  <img src="https://oracle.github.io/weblogic-image-tool/images/logo.png" height="90"><br/>
  WebLogic Image Tool
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/weblogic-image-tool/js/lunr.min.js?1742786740"></script>
<script type="text/javascript" src="/weblogic-image-tool/js/auto-complete.js?1742786740"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/oracle.github.io\/weblogic-image-tool";
    
</script>
<script type="text/javascript" src="/weblogic-image-tool/js/search.js?1742786740"></script>

    
  </div>

    <div class="highlightable">
    <ul class="topics">
      <li><a  class="padding" href="https://oracle.github.io/weblogic-image-tool">Home</a></li>
        
          
          




 
  
    
    <li data-nav-id="/weblogic-image-tool/quickstart/" title="Quick Start" class="dd-item
        
        
        
        ">
      <a href="/weblogic-image-tool/quickstart/">
          <b> </b>Quick Start
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/weblogic-image-tool/quickstart/quickstart/" title="Steps" class="dd-item ">
        <a href="/weblogic-image-tool/quickstart/quickstart/">
        Steps
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/weblogic-image-tool/userguide/" title="User Guide" class="dd-item
        parent
        
        
        ">
      <a href="/weblogic-image-tool/userguide/">
          <b> </b>User Guide
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/weblogic-image-tool/userguide/prerequisites/" title="Prerequisites" class="dd-item ">
        <a href="/weblogic-image-tool/userguide/prerequisites/">
        Prerequisites
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/weblogic-image-tool/userguide/setup/" title="Setup" class="dd-item ">
        <a href="/weblogic-image-tool/userguide/setup/">
        Setup
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/weblogic-image-tool/userguide/tools/" title="Image Tool" class="dd-item
        parent
        
        
        ">
      <a href="/weblogic-image-tool/userguide/tools/">
          <b> </b>Image Tool
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/weblogic-image-tool/userguide/tools/create-image/" title="Create Image" class="dd-item active">
        <a href="/weblogic-image-tool/userguide/tools/create-image/">
        Create Image
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/weblogic-image-tool/userguide/tools/create-aux-image/" title="Create Auxiliary Image" class="dd-item ">
        <a href="/weblogic-image-tool/userguide/tools/create-aux-image/">
        Create Auxiliary Image
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/weblogic-image-tool/userguide/tools/rebase-image/" title="Rebase Image" class="dd-item ">
        <a href="/weblogic-image-tool/userguide/tools/rebase-image/">
        Rebase Image
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/weblogic-image-tool/userguide/tools/update-image/" title="Update Image" class="dd-item ">
        <a href="/weblogic-image-tool/userguide/tools/update-image/">
        Update Image
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/weblogic-image-tool/userguide/tools/inspect-image/" title="Inspect Image" class="dd-item ">
        <a href="/weblogic-image-tool/userguide/tools/inspect-image/">
        Inspect Image
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/weblogic-image-tool/userguide/tools/cache/" title="Cache" class="dd-item ">
        <a href="/weblogic-image-tool/userguide/tools/cache/">
        Cache
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/weblogic-image-tool/userguide/cleanup/" title="Cleanup" class="dd-item ">
        <a href="/weblogic-image-tool/userguide/cleanup/">
        Cleanup
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/weblogic-image-tool/userguide/config/" title="Configuration" class="dd-item ">
        <a href="/weblogic-image-tool/userguide/config/">
        Configuration
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/weblogic-image-tool/userguide/logging/" title="Logging" class="dd-item ">
        <a href="/weblogic-image-tool/userguide/logging/">
        Logging
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/weblogic-image-tool/samples/" title="Samples" class="dd-item
        
        
        
        ">
      <a href="/weblogic-image-tool/samples/">
          <b> </b>Samples
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/weblogic-image-tool/samples/create-image-with-internet/" title="Create an image with full Internet access" class="dd-item ">
        <a href="/weblogic-image-tool/samples/create-image-with-internet/">
        Create an image with full Internet access
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/weblogic-image-tool/samples/create-image-no-internet/" title="Create an image without Internet access" class="dd-item ">
        <a href="/weblogic-image-tool/samples/create-image-no-internet/">
        Create an image without Internet access
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/weblogic-image-tool/samples/patching-image/" title="Patch an existing image" class="dd-item ">
        <a href="/weblogic-image-tool/samples/patching-image/">
        Patch an existing image
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/weblogic-image-tool/samples/create-image-wdt/" title="Create an image with a WLS domain using WDT" class="dd-item ">
        <a href="/weblogic-image-tool/samples/create-image-wdt/">
        Create an image with a WLS domain using WDT
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/weblogic-image-tool/developer/" title="Developer Guide" class="dd-item
        
        
        
        ">
      <a href="/weblogic-image-tool/developer/">
          <b> </b>Developer Guide
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/weblogic-image-tool/developer/source/" title="Build from source" class="dd-item ">
        <a href="/weblogic-image-tool/developer/source/">
        Build from source
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/weblogic-image-tool/developer/contribute/" title="Contribute to WIT" class="dd-item ">
        <a href="/weblogic-image-tool/developer/contribute/">
        Contribute to WIT
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
      <li><a  class="padding" href="https://oracle.github.io/weblogic-image-tool/release-notes">Release Notes</a></li>
    </ul>

    
    

    
    <section id="footer">
      <p>Created with <i class="fas fa-heart"></i> from <a href="https://www.oracle.com">Oracle</a></p>
<p>&nbsp</p>
<p><a href="https://github.com/oracle/weblogic-image-tool"><i class="fab fa-github"></i> GitHub repo</a></p>
<p><a href="https://join.slack.com/t/oracle-weblogic/shared_invite/zt-1ni1gtjv6-PGC6CQ4uIte3KBdm_67~aQ"><i class="fab fa-slack"></i> Public Slack #weblogic</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            
            
          
          
            <a href='/weblogic-image-tool/'></a> > <a href='/weblogic-image-tool/userguide/'>User Guide</a> > <a href='/weblogic-image-tool/userguide/tools/'>Image Tool</a> > Create Image
          
        
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#additional-information">Additional information</a></li>
        <li><a href="#usage-scenarios">Usage scenarios</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Create Image
            </h1>
          

        


<p>The <code>create</code> command helps build a WebLogic container image from a given base OS image.
There are a number of optional parameters for this feature. The required option for the command is marked.</p>
<p><strong>NOTE</strong>: The WebLogic Image Tool does not support a Stack Patch Bundle (SPB; see Doc ID <a href="https://support.oracle.com/rs?type=doc&amp;id=2764636.1">2764636.1</a>), because an SPB is <em>not</em> a patch but a mechanism for applying all PSU and recommended CPU and SPU patches to a WebLogic Server installation, similar to invoking the Image Tool <code>create</code> command with the <code>--recommendedPatches</code> option.</p>
<pre tabindex="0"><code>Usage: imagetool create [OPTIONS]
</code></pre><table>
<thead>
<tr>
<th>Parameter</th>
<th>Definition</th>
<th>Default</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>--tag</code></td>
<td>(Required) Tag for the final build image. Example: <code>store/oracle/weblogic:12.2.1.3.0</code></td>
<td></td>
</tr>
<tr>
<td><code>--additionalBuildCommands</code></td>
<td>Path to a file with additional build commands. For more details, see <a href="#--additionalbuildcommands">Additional information</a>.</td>
<td></td>
</tr>
<tr>
<td><code>--additionalBuildFiles</code></td>
<td>Additional files that are required by your <code>additionalBuildCommands</code>.  A comma separated list of files that should be copied to the build context. See <a href="#--additionalbuildfiles">Additional information</a>.</td>
<td></td>
</tr>
<tr>
<td><code>--builder</code>, <code>-b</code></td>
<td>Executable to process the Dockerfile. Use the full path of the executable if not on your path.</td>
<td>Defaults to <code>docker</code>, or, when set, to the value in environment variable <code>WLSIMG_BUILDER</code>.</td>
</tr>
<tr>
<td><code>--buildNetwork</code></td>
<td>Networking mode for the RUN instructions during the image build.  See <code>--network</code> for Docker <code>build</code>.</td>
<td></td>
</tr>
<tr>
<td><code>--chown</code></td>
<td><code>userid:groupid</code> to be used for creating files within the image, such as the JDK, the FMW/WLS installs, etc.  If the user or group does not exist in the image, they will be added with useradd/groupadd.</td>
<td><code>oracle:oracle</code></td>
</tr>
<tr>
<td><code>--docker</code></td>
<td>(DEPRECATED) Path to the Docker executable. Use <code>--builder</code> instead.</td>
<td><code>docker</code></td>
</tr>
<tr>
<td><code>--dryRun</code></td>
<td>Skip Docker build execution and print the Dockerfile to stdout.</td>
<td></td>
</tr>
<tr>
<td><code>--fromImage</code></td>
<td>Container image to use as a base image when creating a new image.</td>
<td><code>ghcr.io/oracle/oraclelinux:8-slim</code></td>
</tr>
<tr>
<td><code>--httpProxyUrl</code></td>
<td>Proxy for the HTTP protocol. Example: <code>http://myproxy:80</code> or <code>http:user:passwd@myproxy:8080</code></td>
<td></td>
</tr>
<tr>
<td><code>--httpsProxyUrl</code></td>
<td>Proxy for the HTTPS protocol. Example: <code>https://myproxy:80</code> or <code>https:user:passwd@myproxy:8080</code></td>
<td></td>
</tr>
<tr>
<td><code>--installerResponseFile</code></td>
<td>One or more custom response files. A comma separated list of paths to installer response files. Overrides the default responses for the Oracle silent installer.</td>
<td></td>
</tr>
<tr>
<td><code>--inventoryPointerFile</code></td>
<td>Path to custom inventory pointer file.</td>
<td></td>
</tr>
<tr>
<td><code>--inventoryPointerInstallLoc</code></td>
<td>Target location for the inventory pointer file.</td>
<td></td>
</tr>
<tr>
<td><code>--jdkVersion</code></td>
<td>Version of the server JDK to install.</td>
<td><code>8u202</code></td>
</tr>
<tr>
<td><code>--latestPSU</code></td>
<td>Find and apply the latest PatchSet Update.</td>
<td></td>
</tr>
<tr>
<td><code>--opatchBugNumber</code></td>
<td>The patch number for OPatch (patching OPatch).</td>
<td><code>28186730</code></td>
</tr>
<tr>
<td><code>--packageManager</code></td>
<td>Override the default package manager for the base image&rsquo;s operating system. Supported values: <code>APK</code>, <code>APTGET</code>, <code>NONE</code>, <code>OS_DEFAULT</code>, <code>YUM</code>, <code>ZYPPER</code></td>
<td><code>OS_DEFAULT</code></td>
</tr>
<tr>
<td><code>--password</code></td>
<td>Request password for the Oracle Support <code>--user</code> on STDIN, see <code>--user</code>.</td>
<td></td>
</tr>
<tr>
<td><code>--passwordEnv</code></td>
<td>Environment variable containing the Oracle Support password, see <code>--user</code>.</td>
<td></td>
</tr>
<tr>
<td><code>--passwordFile</code></td>
<td>Path to a file containing just the Oracle Support password, see <code>--user</code>.</td>
<td></td>
</tr>
<tr>
<td><code>--patches</code></td>
<td>Comma separated list of patch IDs. Example: <code>12345678,87654321</code></td>
<td></td>
</tr>
<tr>
<td><code>--platform</code></td>
<td>Set the target platform to build.  Supported values: <code>linux/amd64</code> or <code>linux/arm64</code>.</td>
<td></td>
</tr>
<tr>
<td><code>--pull</code></td>
<td>Always attempt to pull a newer version of base images during the build.</td>
<td></td>
</tr>
<tr>
<td><code>--recommendedPatches</code></td>
<td>Find and apply the latest PatchSet Update and recommended patches. This takes precedence over <code>--latestPSU</code>.</td>
<td></td>
</tr>
<tr>
<td><code>--resourceTemplates</code></td>
<td>One or more files containing placeholders that need to be resolved by the Image Tool. See <a href="#resource-template-files">Resource Template Files</a>.</td>
<td></td>
</tr>
<tr>
<td><code>--skipcleanup</code></td>
<td>Do not delete the build context folder, intermediate images, and failed build containers. For debugging purposes.</td>
<td></td>
</tr>
<tr>
<td><code>--strictPatchOrdering</code></td>
<td>Instruct OPatch to apply patches one at a time (uses <code>apply</code> instead of <code>napply</code>).</td>
<td></td>
</tr>
<tr>
<td><code>--target</code></td>
<td>Select the target environment in which the created image will be used. Supported values: <code>Default</code> (Docker/Kubernetes), <code>OpenShift</code>. See <a href="#--target">Additional information</a>.</td>
<td><code>Default</code></td>
</tr>
<tr>
<td><code>--type</code></td>
<td>Installer type. Supported values: <code>WLS</code>, <code>WLSDEV</code>, <code>WLSSLIM</code>, <code>FMW</code>, <code>IDM</code>, <code>MFT</code>, <code>OAM</code>, <code>ODI</code>, <code>OHS</code>, <code>OIG</code>, <code>OUD</code>, <code>OUD_WLS</code>, <code>OID</code>, <code>OSB</code>, <code>SOA</code>, <code>SOA_OSB</code>, <code>SOA_OSB_B2B</code>, <code>WCC</code>, <code>WCP</code>, <code>WCS</code></td>
<td><code>WLS</code></td>
</tr>
<tr>
<td><code>--useBuildx</code></td>
<td>Use BuildKit for building the container image.</td>
<td></td>
</tr>
<tr>
<td><code>--user</code></td>
<td>Oracle support email ID. When supplying <code>user</code>, you must supply the password either as an environment variable using <code>--passwordEnv</code>, or as a file using <code>--passwordFile</code>, or interactively, on the command line with <code>--password</code>.</td>
<td></td>
</tr>
<tr>
<td><code>--version</code></td>
<td>Installer version.</td>
<td><code>12.2.1.3.0</code></td>
</tr>
<tr>
<td><code>--wdtArchive</code></td>
<td>A WDT archive ZIP file or comma-separated list of files.</td>
<td></td>
</tr>
<tr>
<td><code>--wdtDomainHome</code></td>
<td>Path to the <code>-domain_home</code> for WDT.</td>
<td><code>/u01/domains/base_domain</code></td>
</tr>
<tr>
<td><code>--wdtDomainType</code></td>
<td>WDT domain type. Supported values: <code>WLS</code>, <code>JRF</code>, <code>RestrictedJRF</code></td>
<td><code>WLS</code></td>
</tr>
<tr>
<td><code>--wdtEncryptionKey</code></td>
<td>Passphrase for WDT <code>-use_encryption</code> that will be requested on STDIN.</td>
<td></td>
</tr>
<tr>
<td><code>--wdtEncryptionKeyEnv</code></td>
<td>Passphrase for WDT <code>-use_encryption</code> that is provided as an environment variable.</td>
<td></td>
</tr>
<tr>
<td><code>--wdtEncryptionKeyFile</code></td>
<td>Passphrase for WDT <code>-use_encryption</code> that is provided as a file.</td>
<td></td>
</tr>
<tr>
<td><code>--wdtHome</code></td>
<td>The target folder in the image for the WDT install and models.</td>
<td><code>/u01/wdt</code></td>
</tr>
<tr>
<td><code>--wdtJavaOptions</code></td>
<td>Java command-line options for WDT.</td>
<td></td>
</tr>
<tr>
<td><code>--wdtModel</code></td>
<td>A WDT model file or a comma-separated list of files.</td>
<td></td>
</tr>
<tr>
<td><code>--wdtModelHome</code></td>
<td>The target location in the image to copy WDT model, variable, and archive files.</td>
<td><code>{wdtHome}/models</code></td>
</tr>
<tr>
<td><code>--wdtModelOnly</code></td>
<td>Install WDT and copy the models to the image, but do not create the domain.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>--wdtRunRCU</code></td>
<td>Instruct WDT to run RCU when creating the domain.</td>
<td></td>
</tr>
<tr>
<td><code>--wdtStrictValidation</code></td>
<td>Use strict validation for the WDT validation method. Only applies when using model only.</td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>--wdtVariables</code></td>
<td>A WDT variables file or comma-separated list of files.</td>
<td></td>
</tr>
<tr>
<td><code>--wdtVersion</code></td>
<td>WDT version to use.</td>
<td><code>latest</code></td>
</tr>
</tbody>
</table>
<h3 id="additional-information">Additional information</h3>
<h4 id="--additionalbuildcommands"><code>--additionalBuildCommands</code></h4>
<p>This is an advanced option that let&rsquo;s you provide additional commands to the Docker build step.<br>
The input for this parameter is a simple text file that contains one or more of the valid sections.
Valid sections for create are:</p>
<table>
<thead>
<tr>
<th>Section</th>
<th>Available Variables</th>
<th>Build Stage</th>
<th>Timing</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>initial-build-commands</code></td>
<td>None</td>
<td>All</td>
<td>As root, and before any Image Tool actions.</td>
</tr>
<tr>
<td><code>package-manager-packages</code></td>
<td>None</td>
<td>All</td>
<td>A list of OS packages, such as <code>ftp gzip</code>, separated by line or space.</td>
</tr>
<tr>
<td><code>before-jdk-install</code></td>
<td><code>JAVA_HOME</code></td>
<td>Intermediate (JDK_BUILD)</td>
<td>Before the JDK is installed.</td>
</tr>
<tr>
<td><code>after-jdk-install</code></td>
<td><code>JAVA_HOME</code></td>
<td>Intermediate (JDK_BUILD)</td>
<td>After the JDK is installed.</td>
</tr>
<tr>
<td><code>before-fmw-install</code></td>
<td><code>JAVA_HOME</code> <code>ORACLE_HOME</code></td>
<td>Intermediate (WLS_BUILD)</td>
<td>Before the Oracle Home is created.</td>
</tr>
<tr>
<td><code>after-fmw-install</code></td>
<td><code>JAVA_HOME</code> <code>ORACLE_HOME</code></td>
<td>Intermediate (WLS_BUILD)</td>
<td>After all of the Oracle middleware installers are finished.</td>
</tr>
<tr>
<td><code>before-wdt-command</code></td>
<td><code>DOMAIN_HOME</code></td>
<td>Intermediate (WDT_BUILD)</td>
<td>Before WDT is installed.</td>
</tr>
<tr>
<td><code>after-wdt-command</code></td>
<td><code>DOMAIN_HOME</code></td>
<td>Intermediate (WDT_BUILD)</td>
<td>After WDT domain creation/update is complete.</td>
</tr>
<tr>
<td><code>final-build-commands</code></td>
<td><code>JAVA_HOME</code> <code>ORACLE_HOME</code> <em><code>DOMAIN_HOME</code></em></td>
<td>Final image</td>
<td>After all Image Tool actions are complete, and just before the container image is finalized. <code>DOMAIN_HOME</code> is only available if WDT was used during the build.</td>
</tr>
</tbody>
</table>
<p><strong>NOTE</strong>: Changes made in intermediate stages may not be carried forward to the final image unless copied manually.<br>
The Image Tool will copy the Java Home, Oracle Home, domain home, and WDT home directories to the final image.<br>
Changes fully contained within these directories do not need an additional <code>COPY</code> command in the <code>final-build-commands</code> section.</p>
<p>Each section can contain one or more valid Dockerfile commands and would look like the following:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-dockerfile" data-lang="dockerfile"><span style="display:flex;"><span><span style="color:#f92672">[</span>after-fmw-install<span style="color:#f92672">]</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">RUN</span> rm /some/dir/unnecessary-file<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">COPY</span> --chown<span style="color:#f92672">=</span>oracle:oracle files/my_additional_file.txt /u01<span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#f92672">[</span>final-build-commands<span style="color:#f92672">]</span><span style="color:#960050;background-color:#1e0010">
</span></span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010"></span><span style="color:#66d9ef">LABEL</span> owner<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;middleware team&#34;</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><h4 id="--additionalbuildfiles"><code>--additionalBuildFiles</code></h4>
<p>This option provides a way to supply additional files to the image build command.
All provided files and directories are copied directly under the <code>files</code> subfolder of the build context.<br>
To get those files into the image, additional build commands must be provided using the <code>additionalBuildCommands</code> options.
Access to these files using a build command, such as <code>COPY</code> or <code>ADD</code>, should use the original filename
with the folder prefix, <code>files/</code>.  For example, if the
original file was provided as <code>--additionalBuildFiles /scratch/test1/convenience.sh</code>, the Docker build command <code>COPY</code>
provided in <code>--additionalBuildCommands</code> should look like
<code>COPY --chown=oracle:oracle files/convenience.sh /my/internal/image/location</code>.<br>
Because Image Tool uses multi-stage
builds, it is important to place the build command (like <code>COPY</code>) in the appropriate section of the <code>Dockerfile</code> based
on when the build needs access to the file.  For example, if the file is needed in the final image and not for
installation or domain creation steps, use the <code>final-build-commands</code> section so that the <code>COPY</code> command occurs in the
final stage of the image build.  Or, if the file needs to change the Oracle Home prior to domain creation, use
the <code>after-fmw-install</code> or <code>before-wdt-command</code> sections.</p>
<h4 id="--target"><code>--target</code></h4>
<p>By default, the generated WLS domain in your image will use the best practices defined by Oracle WebLogic Server.<br>
The <code>target</code> option allows you to toggle the defaults so that the generated domain is easier to use in the target
environment.  For example, the <code>--target OpenShift</code> option will change the file permissions in the domain directory
so that the group permissions match the user permissions.</p>
<table>
<thead>
<tr>
<th>Target</th>
<th>Default File Permissions</th>
<th>Default File Ownership</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Default</code></td>
<td><code>rwxr-x---</code></td>
<td><code>oracle:oracle</code></td>
</tr>
<tr>
<td><code>OpenShift</code></td>
<td><code>rwxrwx---</code></td>
<td><code>oracle:root</code></td>
</tr>
</tbody>
</table>
<h4 id="resource-template-files">Resource Template Files</h4>
<p>If provided, the file or files provided with <code>--resourceTemplates</code> will be overwritten. For known tokens,
the placeholders will be replaced with values according to the following table.</p>
<p><strong>Note:</strong> Placeholders must follow the Mustache syntax, like <code>{{imageName}}</code> or <code>{{{imageName}}}</code>.</p>
<table>
<thead>
<tr>
<th>Token Name</th>
<th>Value Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>domainHome</code></td>
<td>The value provided to the Image Tool with <code>--wdtDomainHome</code>.</td>
</tr>
<tr>
<td><code>domainHomeSourceType</code></td>
<td><code>PersistentVolume</code> (default), <code>FromModel</code> if <code>--wdtModelOnly</code>, or <code>Image</code> if the domain is created in the image with WDT.</td>
</tr>
<tr>
<td><code>imageName</code></td>
<td>The value provided to the Image Tool with <code>--tag</code>.</td>
</tr>
<tr>
<td><code>modelHome</code></td>
<td>The value provided to the Image Tool with <code>--wdtModelHome</code>.</td>
</tr>
</tbody>
</table>
<h4 id="use-an-argument-file">Use an argument file</h4>
<p>You can save all arguments passed for the Image Tool in a file, then use the file as a parameter.</p>
<p>For example, create a file called <code>build_args</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>create
</span></span><span style="display:flex;"><span>--type wls
</span></span><span style="display:flex;"><span>--version 12.2.1.3.0
</span></span><span style="display:flex;"><span>--tag wls:122130
</span></span><span style="display:flex;"><span>--user acmeuser@mycompany.com
</span></span><span style="display:flex;"><span>--httpProxyUrl http://mycompany-proxy:80
</span></span><span style="display:flex;"><span>--httpsProxyUrl http://mycompany-proxy:80
</span></span><span style="display:flex;"><span>--passwordEnv MYPWD
</span></span></code></pre></div><p>Use it on the command line, as follows:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ imagetool @/path/to/build_args
</span></span></code></pre></div><h3 id="usage-scenarios">Usage scenarios</h3>
<p><strong>Note</strong>: Use <code>--passwordEnv</code> or <code>--passwordFile</code> instead of <code>--password</code>.</p>
<p>The following commands assume that all the required JDK, WLS, or FMW (WebLogic infrastructure) installers have been downloaded
to the cache directory. Use the <a href="/weblogic-image-tool/userguide/tools/cache/">cache</a> command to set it up.</p>
<ul>
<li>
<p>Create an image named <code>sample:wls</code> with the WebLogic installer 12.2.1.3.0, server JDK 8u202, and latest PSU applied.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ imagetool create --tag sample:wls --latestPSU --user testuser@xyz.com --password hello
</span></span></code></pre></div></li>
<li>
<p>Create an image named <code>sample:wdt</code> with the same options as above and create a domain with <a href="https://oracle.github.io/weblogic-deploy-tooling/">WebLogic Deploy Tooling</a>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ imagetool create --tag sample:wdt --latestPSU --user testuser@xyz.com --password hello --wdtModel /path/to/model.json --wdtVariables /path/to/variables.json --wdtVersion 0.16
</span></span></code></pre></div><p>If <code>wdtVersion</code> is not provided, the tool uses the latest release.</p>
</li>
<li>
<p>Create an image named <code>sample:patch</code> with the selected patches applied.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ imagetool create --tag sample:patch --user testuser@xyz.com --password hello --patches 12345678,p87654321
</span></span></code></pre></div><p>The patch numbers may or may not start with &lsquo;<code>p</code>&rsquo;.</p>
</li>
</ul>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/weblogic-image-tool/userguide/tools/" title="Image Tool"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/weblogic-image-tool/userguide/tools/create-aux-image/" title="Create Auxiliary Image" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/weblogic-image-tool/js/clipboard.min.js?1742786741"></script>
    <script src="/weblogic-image-tool/js/perfect-scrollbar.min.js?1742786741"></script>
    <script src="/weblogic-image-tool/js/perfect-scrollbar.jquery.min.js?1742786741"></script>
    <script src="/weblogic-image-tool/js/jquery.sticky.js?1742786741"></script>
    <script src="/weblogic-image-tool/js/featherlight.min.js?1742786741"></script>
    <script src="/weblogic-image-tool/js/highlight.pack.js?1742786741"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/weblogic-image-tool/js/modernizr.custom-3.6.0.js?1742786741"></script>
    <script src="/weblogic-image-tool/js/learn.js?1742786741"></script>
    <script src="/weblogic-image-tool/js/hugo-learn.js?1742786741"></script>
    
        
            <script src="/weblogic-image-tool/mermaid/mermaid.js?1742786741"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

